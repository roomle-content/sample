{
    "components": [
        {
            "externalIdentifier": "wardrobe_accessory",
            "catalog": "example",
            "id": "example:wardrobe_accessory",
            "configuration": "{\"id\":\"example:wardrobe_accessory\",\"parameters\":[{\"key\":\"internalFrameWidth\",\"type\":\"Decimal\",\"unitType\":\"length\",\"defaultValue\":800,\"labels\":{\"en\":\"Width\"},\"visible\":true},{\"key\":\"internalFrameDepth\",\"type\":\"Decimal\",\"unitType\":\"length\",\"defaultValue\":400,\"labels\":{\"en\":\"Frame Depth\"},\"visible\":true},{\"key\":\"accessoryHeight\",\"type\":\"Decimal\",\"unitType\":\"length\",\"labels\":{\"en\":\"Height\"},\"visible\":true},{\"key\":\"accessoryType\",\"type\":\"String\",\"labels\":{\"en\":\"Accessory type\"},\"visible\":true,\"validValues\":[\"SHELF\",\"CLOTHES_ROD\",\"INTERNAL_DRAWER\"]},{\"key\":\"material_wood\",\"type\":\"Material\",\"labels\":{\"en\":\"Material\"},\"visible\":true,\"validValues\":[\"isdt:wood_oak\",\"isdt:wood_chstnut\",\"isdt:wood_oak_stained\"]},{\"key\":\"material_metalparts\",\"type\":\"Material\",\"labels\":{\"en\":\"Material\"},\"visible\":true,\"validValues\":[\"ral_color:7015\",\"ral_color:9001\",\"ral_color:9004\"]}],\"onUpdate\":\"\\naccessoryHeight=getData(accessoryType,'dockProperties','height');\\ndock_minimumAbsolutePositionZ=getDataWithDefault(accessoryType,'dockProperties','minimumAbsolutePositionZ',0);\\ndock_minimumRelativePositionZ=getDataWithDefault(accessoryType,'dockProperties','minimumRelativePositionZ',0);\\ndock_minimumSpaceAbove=getDataWithDefault(accessoryType,'dockProperties','minimumSpaceAbove',accessoryHeight);\\n\",\"previewGeometry\":\"\\nif(accessoryType=='SHELF'){\\nshelfGap_front=10;\\nAddPlainCube(Vector3f{internalFrameWidth,internalFrameDepth-shelfGap_front,19});\\nSetObjSurface(material_wood);\\n}\\nelse if(accessoryType=='CLOTHES_ROD'){\\ntelescopicRodRadius_large=34/2;\\nAddPlainCube(Vector3f{internalFrameWidth,telescopicRodRadius_large*2,telescopicRodRadius_large*2});\\nMoveMatrixBy(Vector3f{0,internalFrameDepth/2,500-telescopicRodRadius_large});\\nSetObjSurface(material_metalparts);\\n}\\nelse if(accessoryType=='INTERNAL_DRAWER'){\\nshelfGap_front=10;\\nAddPlainCube(Vector3f{internalFrameWidth,internalFrameDepth-shelfGap_front,19});\\nSetObjSurface(material_wood);\\n}\\n\",\"geometry\":\"\\nif(accessoryType=='SHELF'){\\nshelfGap_front=10;\\nAddCube(\\nVector3f{internalFrameWidth,internalFrameDepth-shelfGap_front,19},\\nuvRotation=90\\n);\\nSetObjSurface(material_wood);\\n}\\nelse if(accessoryType=='CLOTHES_ROD'){\\ntelescopicRodRadius_small=30/2;\\ntelescopicRodRadius_large=34/2;\\ntelescopicRodLength_large=ceil(internalFrameWidth/320,0)*200;\\nsocketRadius_small=40/2;\\nsocketRadius_large=44/2;\\nsocketHeight=20;\\n\\nBeginObjGroup();\\nAddCylinder(socketRadius_large,socketRadius_large,socketHeight,16);\\nAddCylinder(telescopicRodRadius_large,telescopicRodRadius_large,telescopicRodLength_large,16);\\nMoveMatrixBy(Vector3f{0,0,socketHeight});\\n\\nAddCylinder(telescopicRodRadius_small,telescopicRodRadius_small,internalFrameWidth-2*socketHeight,16);\\nMoveMatrixBy(Vector3f{0,0,socketHeight});\\n\\nAddCylinder(socketRadius_small,socketRadius_small,socketHeight,16);\\nMoveMatrixBy(Vector3f{0,0,internalFrameWidth-socketHeight});\\nEndObjGroup();\\nSetObjSurface(material_metalparts);\\nRotateMatrixBy(Vector3f{0,1,0},Vector3f{0,0,0},90);\\nMoveMatrixBy(Vector3f{0,internalFrameDepth/2,500});\\n}\\nelse if(accessoryType=='INTERNAL_DRAWER'){\\ndrawerWallThickness=16;\\ndrawerGap_wall=10;\\ndrawerGap_front=10;\\ndrawerGap_rear=20;\\ndrawerFloorThickness=7;\\ndrawerFrontThickness=16;\\ndrawerDepth=internalFrameDepth-drawerGap_rear-drawerGap_front;\\ndrawerWidth=internalFrameWidth-2*drawerGap_wall;\\ndrawerRearWallOffset=12;\\ndrawerFloorOffset=15;\\n\\nBeginObjGroup('INTERNAL DRAWER');\\n\\n// add it with flipped Y and Z dimensions and rotate afterwards in order to have a proper UV direction\\nAddCube(\\nVector3f{drawerWallThickness,accessoryHeight,drawerDepth-drawerFrontThickness},\\nmaterial=self.material_wood\\n);\\nRotateMatrixBy(Vector3f{1,0,0},Vector3f{0,0,0},90);\\nMoveMatrixBy(Vector3f{0,drawerDepth-drawerFrontThickness,0});\\n\\nCopy();\\nRotateMatrixBy(Vector3f{0,0,1},Vector3f{drawerWidth/2,(drawerDepth-drawerFrontThickness)/2,0},180);\\n\\nAddCube(\\nVector3f{drawerWidth,accessoryHeight,drawerFrontThickness},\\nmaterial=material_wood,\\nuvRotation=90\\n);\\nRotateMatrixBy(Vector3f{1,0,0},Vector3f{0,0,0},90);\\nMoveMatrixBy(Vector3f{0,drawerDepth,0});\\n\\nAddPlainCube(Vector3f{drawerWidth-2*drawerWallThickness,drawerDepth-drawerFrontThickness-drawerRearWallOffset,drawerFloorThickness});\\nSetObjSurface('ral_color:7022');\\nMoveMatrixBy(Vector3f{drawerWallThickness,drawerRearWallOffset,drawerFloorOffset});\\n\\nAddCube(\\nVector3f{drawerWidth-2*drawerWallThickness,accessoryHeight-drawerFloorOffset-drawerFloorThickness,drawerWallThickness},\\nmaterial=material_wood,\\nuvRotation=90\\n);\\nRotateMatrixBy(Vector3f{1,0,0},Vector3f{0,0,0},90);\\nMoveMatrixBy(Vector3f{drawerWallThickness,drawerRearWallOffset+drawerWallThickness,drawerFloorOffset+drawerFloorThickness});\\n\\nEndObjGroup('INTERNAL DRAWER');\\nMoveMatrixBy(Vector3f{drawerGap_wall,drawerGap_rear,0});\\n\\n}\\n\",\"childDockings\":{\"points\":[{\"mask\":\"'FRAME_TO_ACCESSORY'\",\"position\":\"{0,0,0}\",\"rotation\":\"{0,0,0}\",\"condition\":\"true\"}]},\"articleNr\":\"'example:wardrobe_accessory'\",\"data\":{\"SHELF\":{\"dockProperties\":{\"height\":19,\"minimumRelativePositionZ\":120,\"minimumSpaceAbove\":120}},\"CLOTHES_ROD\":{\"dockProperties\":{\"height\":80,\"minimumAbsolutePositionZ\":800,\"minimumSpaceAbove\":600}},\"INTERNAL_DRAWER\":{\"dockProperties\":{\"height\":285,\"minimumSpaceAbove\":300}}}}",
            "active": false,
            "updated": "2024-01-04T12:00:40.000Z",
            "created": "2024-01-04T11:59:08.000Z",
            "orderable": false,
            "label": "Wardrobe Accessory",
            "language": "en",
            "translations": [
                {
                    "id": "68664ee5-7c43-42ec-86c6-c5cefc50dec3",
                    "language": "en",
                    "label": "Wardrobe Accessory",
                    "created": "2024-01-04T12:00:40.000Z",
                    "updated": "2024-01-04T12:00:40.000Z"
                }
            ],
            "links": {
                "tags": "/components/example:wardrobe_accessory/tags"
            },
            "version": 1
        },
        {
            "externalIdentifier": "wardrobe_master",
            "catalog": "example",
            "id": "example:wardrobe_master",
            "configuration": "{\"id\":\"example:wardrobe_master\",\"parameters\":[{\"key\":\"width\",\"type\":\"Decimal\",\"labels\":{\"en\":\"Width\"},\"unitType\":\"length\",\"visible\":true,\"validValues\":[500,750,1000]},{\"key\":\"depth\",\"type\":\"Decimal\",\"labels\":{\"en\":\"Depth\"},\"unitType\":\"length\",\"visible\":true,\"validValues\":[350,580]},{\"key\":\"height\",\"type\":\"Decimal\",\"labels\":{\"en\":\"Height\"},\"unitType\":\"length\",\"visible\":true,\"validValues\":[2010,2360]},{\"key\":\"material\",\"type\":\"Material\",\"labels\":{\"en\":\"Material\"},\"visible\":true,\"validValues\":[\"isdt:wood_oak\",\"isdt:wood_chstnut\",\"isdt:wood_oak_stained\"]}],\"onUpdate\":\"\\nif(isnull(inited)){\\ninited=true;\\n\\n/** material thickness */\\nwallThickness=19;\\nbevelWidth=1;\\n/** top reference edge to top shelf surface */\\nshelfOffsetVertical=2;\\n/** front reference edge to horizontal shelf front surface */\\nshelfOffsetDepth=5;\\n/** back reference edge to front edge of back plate = rear edge of internalBox */\\nbackplateOffset=20;\\nbackplateThickness=5;\\n/** floor to bottom surface of floor shelf */\\nplinthHeight=65;\\n/** plinth front surface to reference box */\\nplinthOffsetY=12;\\n/** plinth bottom surface to floor */\\nplinthOffsetZ=5;\\n/** internal pin array spacing */\\nrangeStepZ=50;\\n\\n/** Docking collision prevention array. \\n                @doc occupations Is an array of integers, where each integer represents one docking point of the range. Its values are FREE, SHADOW or OCCUPIED.\\n                @doc FREE Indicates that the docking point of the range is free and can be used for docking. Should be 0, so that it is falsy.\\n                @doc SHADOW Indicates, that there is nothing docked, but a near docking point is occupied with an accessory that requires more space. Therefore, the point should not be used.\\n                @doc OCCUPIED Indicates, that there is an accessory docked at the point and therefore it is used.\\n                @doc UNAVAILABLE Indicates invalid docking point, i.e. above the ceiling of the wardrobe.\\n                All other values are an error. Therefore we do not set, but increment the values in order to be able to detect that the error is present.\\n\\n            */\\nFREE=0;\\nSHADOW=1;\\nOCCUPIED=100;\\nUNAVAILABLE=-1;\\noccupations=[FREE];\\n\\n// initialize the occupations array; let it be big enough, so that we don't have to check against the array maximum index\\n// maximum possible wardrobe height\\n_.maxHeight=2360;\\n// maximum possible accessory height\\n_.maxAccessoryHeight=1000;\\n_.occupations_maxIndex=_.maxHeight+_.maxAccessoryHeight;\\nfor(_.i=0;_.i<_.occupations_maxIndex;_.i=_.i+rangeStepZ){\\npushBack(occupations,FREE);\\n}\\n// initialize the array by making a copy of the array with the maximum possible height\\n/** Array for every docking point indicating amount of FREE docking points above this docking point until an occupied, shaded or last docking point is met. */\\noccupations_spaceAbove=occupations;\\n}\\n\\n/** Internal box is the free space inside the wardrobe (outer box - wall/floor/ceiling thickness) */\\ninternalBoxSize=Vector3f{\\nwidth-2*wallThickness,\\ndepth-backplateOffset,\\nheight-2*wallThickness-plinthHeight-shelfOffsetVertical\\n};\\n/** Internal box is the free space inside the wardrobe (outer box - wall/floor/ceiling thickness) */\\ninternalBoxPosition=Vector3f{\\nwallThickness,\\nbackplateOffset,\\nplinthHeight+wallThickness\\n};\\n\\n_.lastOccupiedIndex=0;\\nfor(_.i=length(occupations_spaceAbove)-1;_.i>=0;_.i=_.i-1){\\n_.position=zFromVector(internalBoxPosition)+_.i*rangeStepZ;\\n_.occupation=get(occupations,_.i);\\nif(_.position>zFromVector(internalBoxPosition)+zFromVector(internalBoxSize)){\\nset(occupations_spaceAbove,_.i,UNAVAILABLE);\\n_.lastOccupiedIndex=_.i;\\n}\\nelse if(_.occupation==OCCUPIED){\\nset(occupations_spaceAbove,_.i,_.lastOccupiedIndex-_.i);\\n_.lastOccupiedIndex=_.i;\\n}\\nelse{\\nset(occupations_spaceAbove,_.i,_.lastOccupiedIndex-_.i);\\n}\\n}\\n\",\"geometry\":\"\\n// left wall\\nAddCube(\\nVector3f{\\nwallThickness,\\ndepth,\\nheight\\n},\\nbevelWidth=self.bevelWidth,\\nmaterial=self.material\\n);\\n\\n// right wall\\nCopy();\\nMoveMatrixBy(Vector3f{width-wallThickness,0,0});\\nMoveUvMatrixBy(Vector2f{400,0});\\n\\n// floor shelf\\nAddCube(\\nVector3f{\\nwidth-2*wallThickness,\\ndepth-shelfOffsetDepth-backplateOffset,\\nwallThickness\\n},\\nuvRotation=90,\\nbevelWidth=self.bevelWidth,\\nmaterial=self.material\\n);\\nMoveMatrixBy(Vector3f{xFromVector(internalBoxPosition),yFromVector(internalBoxPosition),plinthHeight});\\n\\n// plinth\\nAddCube(\\nVector3f{\\nwidth-2*wallThickness,\\nwallThickness,\\nplinthHeight-plinthOffsetZ\\n},\\nuvRotation=90,\\nbevelWidth=self.bevelWidth,\\nmaterial=self.material\\n);\\nMoveMatrixBy(Vector3f{xFromVector(internalBoxPosition),depth-plinthOffsetY-wallThickness,plinthOffsetZ});\\n\\n// ceiling shelf\\nAddCube(\\nVector3f{\\nwidth-2*wallThickness,\\ndepth-2*shelfOffsetDepth,\\nwallThickness\\n},\\nuvRotation=90,\\nuvOffset=Vector2f{500,200},\\nbevelWidth=self.bevelWidth,\\nmaterial=self.material\\n);\\nMoveMatrixBy(Vector3f{\\nxFromVector(internalBoxPosition),\\nshelfOffsetDepth,\\nheight-wallThickness-shelfOffsetVertical\\n});\\n\\n// back plate\\nAddCube(\\nVector3f{\\nxFromVector(internalBoxSize),\\nbackplateThickness,\\nzFromVector(internalBoxSize)+wallThickness\\n},\\nmaterial='ral_color:7003',\\nmaterialFront=material\\n);\\nMoveMatrixBy(Vector3f{\\nxFromVector(internalBoxPosition),\\nbackplateOffset-backplateThickness,\\nzFromVector(internalBoxPosition)-wallThickness\\n});\\n\",\"debugGeometry\":\"\\nfor(i=0;i<=(height-zFromVector(internalBoxPosition))/rangeStepZ;i=i+1){\\noccupationValue=get(occupations,i);\\nAddSphere(Vector3f{rangeStepZ/2,rangeStepZ/2,rangeStepZ/2});\\nMoveMatrixBy(Vector3f{-rangeStepZ,depth-rangeStepZ/2,i*rangeStepZ+zFromVector(internalBoxPosition)});\\ndebugPointColor='isdt:red';\\nif(occupationValue==FREE){\\ndebugPointColor='isdt:green';\\n}\\nelse if(occupationValue==SHADOW){\\ndebugPointColor='isdt:blue';\\n}\\nelse if(occupationValue==OCCUPIED){\\ndebugPointColor='isdt:yellow';\\n}\\nSetObjSurface(debugPointColor);\\n\\nfor(j=0;j<get(occupations_spaceAbove,i);j=j+1){\\nAddPlainCube(Vector3f{20,20,20});\\nMoveMatrixBy(Vector3f{width+20+j*50,depth-20,i*rangeStepZ+zFromVector(internalBoxPosition)});\\nif((j+1)%5==0){SetObjSurface('isdt:black');}else{SetObjSurface(debugPointColor);}\\n}\\n}\\n\",\"parentDockings\":{\"ranges\":[{\"mask\":\"'FRAME_TO_ACCESSORY'\",\"position\":\"\\n{\\nxFromVector(internalBoxPosition),\\nyFromVector(internalBoxPosition),\\nzFromVector(internalBoxPosition)\\n}\\n\",\"stepEnd\":\"\\n{\\nxFromVector(internalBoxPosition),\\nyFromVector(internalBoxPosition),\\nzFromVector(internalBoxPosition)+zFromVector(internalBoxSize)\\n}\\n\",\"stepZ\":\"rangeStepZ\",\"condition\":\"\\n// disallow if position is lower than the minimum dock position\\nif(ifnull(other.dock_minimumAbsolutePositionZ,0)>zFromVector(connection.position)){\\nreturn false;\\n}\\nif(ifnull(other.dock_minimumRelativePositionZ,0)>(zFromVector(connection.position)-zFromVector(internalBoxPosition))){\\nreturn false;\\n}\\n// check for shaded docking point; do not check against occupied, it needs to stay valid so that it doesn't undock an existing accessory\\nif(get(self.occupations,connection.index)==SHADOW){\\nreturn false;\\n}\\n// check if space above is available\\n_.spaceAbove=get(self.occupations_spaceAbove,connection.index)*rangeStepZ;\\nif(ifnull(other.dock_minimumSpaceAbove,0)>_.spaceAbove){\\nreturn false;\\n}\\nreturn true;\\n\",\"assignmentsOnUpdate\":{\"internalFrameWidth\":\"xFromVector(internalBoxSize)\",\"internalFrameDepth\":\"yFromVector(internalBoxSize)\"},\"assignmentScripts\":{\"onDock\":\"\\nset(self.occupations,connection.index,get(self.occupations,connection.index)+OCCUPIED);\\nfor(_.i=connection.index+1;_.i<connection.index+ceil(other.dock_minimumSpaceAbove/rangeStepZ,0);_.i=_.i+1){\\nset(self.occupations,_.i,get(self.occupations,_.i)+SHADOW);\\n}\\n\",\"onUnDock\":\"\\nset(self.occupations,connection.index,get(self.occupations,connection.index)-OCCUPIED);\\nfor(_.i=connection.index+1;_.i<connection.index+ceil(other.dock_minimumSpaceAbove/rangeStepZ,0);_.i=_.i+1){\\nset(self.occupations,_.i,get(self.occupations,_.i)-SHADOW);\\n}\\n\"}}]},\"possibleChildren\":[{\"componentId\":\"example:wardrobe_accessory\",\"condition\":\"false\"},{\"itemId\":\"example:wardrobe_accessory_shelf\",\"condition\":\"true\"},{\"itemId\":\"example:wardrobe_accessory_internaldrawer\",\"condition\":\"true\"},{\"itemId\":\"example:wardrobe_accessory_clothesrod\",\"condition\":\"true\"}],\"articleNr\":\"\\ninternal_articleNumber='wardrobe_master-'|\\nstring(width/10,0)|\\n'-'|\\nstring(depth/10,0)|\\n'-'|\\nstring(height/10,0)|\\n'-'|\\ngetData('colorCode',material);\\n\\narticleNr=getDataWithDefault('articleNumbers',internal_articleNumber,'UNDEFINED '|internal_articleNumber)\\n\",\"label\":\"\\n'Wardrobe Frame '|\\nstring(width/10,0)|\\n'x'|\\nstring(depth/10,0)|\\n'x'|\\nstring(height/10,0)|\\n' ('|\\ngetData('translations',material,'en')|\\n')'\\n\",\"data\":{\"colorCode\":{\"isdt:wood_oak\":\"WOA\",\"isdt:wood_chstnut\":\"WCH\",\"isdt:wood_oak_stained\":\"WOS\"},\"translations\":{\"isdt:wood_oak\":{\"en\":\"Oak\"},\"isdt:wood_chstnut\":{\"en\":\"Chestnut\"},\"isdt:wood_oak_stained\":{\"en\":\"Stained Oak\"}},\"articleNumbers\":{\"wardrobe_master-100-35-201-WOA\":\"4638.3363.32793\",\"wardrobe_master-100-35-201-WCH\":\"4638.3363.32794\",\"wardrobe_master-100-35-201-WOS\":\"4638.3363.32795\",\"wardrobe_master-100-35-236-WOA - err\":\"4638.3363.32796\",\"wardrobe_master-100-35-236-WCH - err\":\"4638.3363.32797\",\"wardrobe_master-100-35-236-WOS - err\":\"4638.3363.32798\",\"wardrobe_master-100-58-201-WOA\":\"4638.3363.32799\",\"wardrobe_master-100-58-201-WCH\":\"4638.3363.32800\",\"wardrobe_master-100-58-201-WOS\":\"4638.3363.32801\",\"wardrobe_master-100-58-236-WOA - err\":\"4638.3363.32802\",\"wardrobe_master-100-58-236-WCH - err\":\"4638.3363.32803\",\"wardrobe_master-100-58-236-WOS - err\":\"4638.3363.32804\",\"wardrobe_master-75-35-201-WOA\":\"4638.3363.32805\",\"wardrobe_master-75-35-201-WCH\":\"4638.3363.32806\",\"wardrobe_master-75-35-201-WOS\":\"4638.3363.32807\",\"wardrobe_master-75-35-236-WOA - err\":\"4638.3363.32808\",\"wardrobe_master-75-35-236-WCH - err\":\"4638.3363.32809\",\"wardrobe_master-75-35-236-WOS - err\":\"4638.3363.32810\",\"wardrobe_master-75-58-201-WOA\":\"4638.3363.32811\",\"wardrobe_master-75-58-201-WCH\":\"4638.3363.32812\",\"wardrobe_master-75-58-201-WOS\":\"4638.3363.32813\",\"wardrobe_master-75-58-236-WOA - err\":\"4638.3363.32814\",\"wardrobe_master-75-58-236-WCH - err\":\"4638.3363.32815\",\"wardrobe_master-75-58-236-WOS - err\":\"4638.3363.32816\",\"wardrobe_master-50-35-201-WOA\":\"4638.3363.32817\",\"wardrobe_master-50-35-201-WCH\":\"4638.3363.32818\",\"wardrobe_master-50-35-201-WOS\":\"4638.3363.32819\",\"wardrobe_master-50-35-236-WOA - err\":\"4638.3363.32820\",\"wardrobe_master-50-35-236-WCH - err\":\"4638.3363.32821\",\"wardrobe_master-50-35-236-WOS - err\":\"4638.3363.32822\",\"wardrobe_master-50-58-201-WOA\":\"4638.3363.32823\",\"wardrobe_master-50-58-201-WCH\":\"4638.3363.32824\",\"wardrobe_master-50-58-201-WOS\":\"4638.3363.32825\",\"wardrobe_master-50-58-236-WOA - err\":\"4638.3363.32826\",\"wardrobe_master-50-58-236-WCH - err\":\"4638.3363.32827\",\"wardrobe_master-50-58-236-WOS - err\":\"4638.3363.32828\"}}}",
            "active": false,
            "updated": "2024-01-04T12:00:48.000Z",
            "created": "2024-01-04T11:59:08.000Z",
            "orderable": false,
            "label": "Wardrobe",
            "language": "en",
            "translations": [
                {
                    "id": "d8687dce-55cd-4322-9568-389b0816b557",
                    "language": "en",
                    "label": "Wardrobe",
                    "created": "2024-01-04T12:00:46.000Z",
                    "updated": "2024-01-04T12:00:46.000Z"
                }
            ],
            "links": {
                "tags": "/components/example:wardrobe_master/tags"
            },
            "version": 1
        }
    ],
    "meta": {
        "lastUpdated": "2024-01-04T12:00:48.000Z",
        "cached": false,
        "total": 2,
        "serverTime": "2024-01-04T12:03:22.806Z"
    }
}